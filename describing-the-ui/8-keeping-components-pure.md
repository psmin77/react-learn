## 순수성: 공식으로서의 컴포넌트

- 컴퓨터 과학에서 순수 함수의 특징
  - 자신의 일에 집중 → 호출되기 전에 존재했던 어떤 객체나 변수는 변경하지 않음
  - 같은 입력, 같은 출력(결과)
- React는 모든 컴포넌트가 순수 함수라고 여김
  - 컴포넌트는 레시피고, 동일한 재료를 넣으면 동일한 요리를 만들 수 있음
  - → React가 렌더링 할 때 컴포넌트가 제공하는 JSX

## 사이드 이펙트: 의도하지 않은 결과

- React 렌더링 과정은 항상 순수해야 함
  - 렌더링 이전에 존재했던 객체나 변수를 변경하면 안 됨
  - 각 컴포넌트 간 의존하지 않고 독립적으로 “스스로 생각”해서 JSX 연산해야 함
- (NOTE) `Props`, `State`, `Context`는 항상 읽기전용

```jsx
// bad
let guest = 0;

function Cup() {
  // 나쁜 지점: 이미 존재했던 변수를 변경하고 있습니다!
  guest = guest + 1;
  return <h2>Tea cup for guest #{guest}</h2>;
}

export default function TeaSet() {
  return (
    <>
      <Cup />
      <Cup />
      <Cup />
    </>
  );
}

// good
function Cup({ guest }) {
  return <h2>Tea cup for guest #{guest}</h2>;
}

export default function TeaSet() {
  return (
    <>
      <Cup guest={1} />
      <Cup guest={2} />
      <Cup guest={3} />
    </>
  );
}

```

### 지역 변경: 컴포넌트의 작은 비밀

- 렌더링 하는 동안 해당 컴포넌트 내에서 만든 변수와 객체를 활용 → 지역 변경

## 사이드 이펙트를 일으킬 수 있는 지점

- 사이드 이펙트: 화면 업데이트, 애니메이션, 데이터 변경 등 렌더링 중이 아니라 *사이드*에서 발생하는 현상
  - 일반적으로 이벤트 핸들러
- 다른 옵션과 사이드 이펙트에 적합한 이벤트 핸들러도 찾을 수 없는 경우 마지막으로 `useEffect` 호출

## 요약

- 컴포넌트는 순수성을 유지해야 함
- 컴포넌트는 서로의 렌더링 순서에 의존하지 않음 (독립적으로 존재)
- 컴포넌트는 입력을 변경해서는 안 됨
  - 불가피한 경우 `State` 설정
  - 변경이 필요한 경우 이벤트 핸들러, 마지막 수단으로 `useEffect` 사용
