# State: 컴포넌트의 기억 저장소

- 컴포넌트는 상호 작용을 통해 화면의 내용을 “기억”해야 하는 경우가 많음
- React는 이러한 컴포넌트별 메모리를 `state`라고 함

## 일반 변수로 충분하지 않은 경우

- 문제점
  1. 지역 변수는 렌더링 간 유지되지 않음
  2. 지역 변수는 변경해도 렌더링이 발생하지 않음
- 컴포넌트를 새로운 데이터로 업데이트 하기 위해 `useState` 훅 필요
  1. 렌더링 사이에 데이터 유지
  2. 변수를 업데이트하고 React가 컴포넌트를 다시 렌더링하도록 유발 (state setter)

## state 변수 추가하기

- `useState`를 import로 가져와서 변수를 선언함

```jsx
import { useState } from "react";

const [index, setIndex] = useState(0);
```

### 첫 번째 훅 만나기

- React에서는 `useState`와 같이 “`use`”로 시작하는 모든 함수를 훅이라고 함
- 훅은 렌더링 중일 때만 사용 가능한 함수
- NOTE) 훅은 컴포넌트의 최상위 수준 또는 커스텀 훅에서만 호출 가능

### useState 해부하기

- useState는 컴포넌트가 어떠한 데이터를 기억하고자 하는 것
- 일반적으로 이름은 `const [something, setSomething]` 으로 지정하는 것이 규칙
- `useState`의 인수는 변수의 초깃값
- 작동 방식
  1. 컴포넌트 최초 렌더링 → `[0, setIndex]` 반환
  2. state 업데이트 → `setIndex(1) // index = 1`
  3. 컴포넌트 두 번째 렌더링 → `[1, setIndex]` 반환

## 컴포넌트에 여러 state 변수 지정하기

- 하나의 컴포넌트에 여러 state 변수를 가질 수 있음
- 서로 연관이 없는 경우 별도로 분리, 자주 함께 변경된다면 하나의 객체로 사용 권장

## State 격리 및 비공개 유지

- State의 복사본은 완전히 격리되어 컴포넌트 영향을 받지 않고 독립적임
- State는 선언한 컴포넌트에 완전히 비공개 → 부모 컴포넌트가 변경할 수 없음

## 요약

- 컴포넌트가 렌더링 간 데이터를 “기억”해야 할 때 state 변수 사용
- state 변수는 `useState` 훅을 통해 선언
  - state와 setter 함수를 배열로 반환함
- 훅은 use로 시작하는 특별한 함수 → React 기능과 “연결”
- 훅은 반드시 호출되어야 함 → 컴포넌트나 다른 훅의 최상위 수준에서만 유효함
- state 변수는 여러 개를 가질 수 있음
- state는 컴포넌트에 비공개 → 각각의 복사본은 고유한 state를 가짐
