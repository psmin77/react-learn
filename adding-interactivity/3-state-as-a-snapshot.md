# 스냅샷으로서의 State

- state 변수는 이미 가지고 있는 변수를 변경하지 않고 리렌더링 발동

## State 설정하면 렌더링 동작

- 이벤트 발생시 `setSomething`은 state를 업데이트하고 리렌더링 요청함
- 이벤트 발생 순서
  1. 이벤트 핸들러 실행
  2. `setSomething(value)`는 `state = value`로 업데이트하고 새로운 렌더링을 큐에 넣음
  3. React는 새로운 값에 따라 컴포넌트를 리렌더링함

## 렌더링 스냅샷

- “렌더링”이란 React가 컴포넌트(=함수)를 호출한다는 뜻
- 해당 함수에서 반환하는 JSX는 시간상 UI의 스냅샷
  - → 렌더링 당시의 state를 사용해 prop, 이벤트 핸들러, 로컬 변수 등이 계산됨
- React는 스냅샷과 일치하도록 화면을 업데이트하고 이벤트 핸들러 연결
- React의 리렌더링
  1. React가 함수 재호출
  2. 새로운 JSX 스냅샷 반환
  3. React는 함수가 반환한 스냅샷과 일치하도록 화면 업데이트
- state는 함수 외부, React 자체에 “존재”
  1. React가 컴포넌트 호출하면 특정 렌더링에 대한 state 스냅샷 제공
  2. 컴포넌트는 해당 state 값을 사용해 계산된 JSX 반환

## 시간 경과에 따른 State

- state 변수의 값은 렌더링 내에서 변경되지 않고 “고정”으로 유지함
- 컴포넌트를 호출해 React가 UI의 스냅샷을 찍을 때 고정된 값

## 요약

- state를 업데이트하면 리렌더링 요청함
- React는 외부에 state를 저장함 (컴포넌트와 독립)
- `useState` 호출하면 React는 해당 렌더링에 대한 state 스냅샷을 제공
- 모든 렌더링은 React가 렌더링에 제공한 state의 ‘스냅샷’을 보게 됨
- 과거에 생성된 이벤트는 당시 시점의 state 값을 가짐
